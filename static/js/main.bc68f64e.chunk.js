(this["webpackJsonpmaster-mind"]=this["webpackJsonpmaster-mind"]||[]).push([[0],{16:function(e,n,r){},20:function(e,n,r){"use strict";r.r(n);var t=r(1),o=r.n(t),c=r(10),i=r.n(c),a=(r(16),r(2)),d=r(5);function s(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return d.b.apply(void 0,r.concat([{$debugName:"".concat("mm","_").concat(e),$unique:!0}]))}var l={B:"rgb(0, 38, 173)",Y:"rgb(215, 208, 0)",P:"rgb(215, 0, 214)",W:"rgb(220, 219, 219)",G:"rgb(23, 170, 0)",R:"rgb(171, 0, 0)"},u={B:"rgb(142, 167, 237)",Y:"rgb(246, 240, 15)",P:"rgb(246, 135, 243)",W:"rgb(245, 245, 245)",G:"rgb(167, 232, 138)",R:"rgb(239, 138, 142)"},b={white:"rgb(235, 235, 235)",black:"rgb(35, 35, 35)"},g=Object.keys(l),f=r(0),x=Object(t.forwardRef)((function(e,n){var r=e.current?"current":void 0;return e.color?Object(f.jsx)("button",{ref:n,className:Object(d.a)(p,r),style:j(e.color),disabled:!e.onClick,onClick:e.onClick}):Object(f.jsx)("button",{ref:n,className:Object(d.a)(p,h,r),disabled:!e.onClick,onClick:e.onClick})})),p=s("CodePeg",{borderRadius:"50%",height:40,width:40,margin:8,background:"none",border:"none",outline:"none",filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.3))",$nest:{"&:focus":{border:"3px solid #0096FF"},"&.current":{border:"3px dashed black"}}}),h=s("EmptyCodePeg",{boxShadow:"inset 0px -2px 24px rgba(0, 0, 0, 0.25)"});function j(e){var n=l[e];return{background:"radial-gradient(circle at 25px 15px, ".concat(u[e],", ").concat(n,")")}}function v(e){return Object(f.jsx)("div",{className:O,children:e.code.map((function(e,n){return Object(f.jsx)(x,{color:e},n)}))})}function m(e){return Object(f.jsx)("div",{className:O,children:e.code.map((function(n,r){return Object(f.jsx)(x,{color:n,onClick:function(){return e.dispatch({type:n?"removeColor":"setPegIndex",index:r})},current:e.currentPegIndex===r},r)}))})}var O=s("Code",{display:"flex",flexDirection:"row"});function w(e){var n=function(e){var n,r,t=null!==(n=null===e||void 0===e?void 0:e.black)&&void 0!==n?n:0,o=null!==(r=null===e||void 0===e?void 0:e.white)&&void 0!==r?r:0,c=4-t-o,i=Array.from({length:t},(function(){return"black"})),a=Array.from({length:o},(function(){return"white"})),d=Array.from({length:c},(function(){return null}));return i.concat(a).concat(d)}(e.response);return Object(f.jsx)("div",{className:y,children:n.map((function(e,n){return Object(f.jsx)(C,{color:e},n)}))})}function C(e){var n=e.color;if(n){var r=b[n];return Object(f.jsx)("div",{className:R,style:{backgroundColor:r}})}return Object(f.jsx)("div",{className:k})}var y=s("ResponseDisplay",{marginTop:2,display:"grid",gridTemplateColumns:"50% 50%",gridTemplateRows:"50% 50%",width:"100%",height:"100%",alignItems:"center",justifyItems:"center"}),k=s("Dot",{borderRadius:"50%",width:5,height:5,backgroundColor:"black",opacity:.2}),R=s("ResponsePeg",{borderRadius:"50%",width:10,height:10,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5))"}),A=Object(t.forwardRef)((function(e,n){return Object(f.jsxs)("div",{ref:n,className:L,children:[Object(f.jsx)("label",{className:T,children:e.index}),Object(f.jsxs)("div",{className:E,children:[Object(f.jsx)("div",{className:S,children:e.responseArea}),e.codeArea]})]})}));function I(e){return Object(f.jsx)(A,{index:e.index,responseArea:Object(f.jsx)(w,{response:e.response}),codeArea:Object(f.jsx)(v,{code:e.code})})}var P=Object(t.forwardRef)((function(e,n){var r=Object(t.useRef)(null),o=e.code.every((function(e){return null!==e}));Object(t.useEffect)((function(){o&&r.current&&r.current.focus()}),[o]);var c=o?Object(f.jsx)(N,{ref:r,onClick:function(){return e.dispatchToGame({type:"submitGuess",code:e.code})}}):Object(f.jsx)(w,{}),i=Object(f.jsx)(m,{code:e.code,currentPegIndex:e.currentPegIndex,dispatch:e.dispatchToCodeEditor});return Object(f.jsx)(A,{ref:n,index:e.index,responseArea:c,codeArea:i})})),N=Object(t.forwardRef)((function(e,n){return Object(f.jsx)("button",{ref:n,className:D,onClick:e.onClick,children:"OK"})})),D=s("OKButton",{width:"100%",height:40,borderRadius:10,border:"none",backgroundColor:"#3AD819",boxShadow:"0 1px 7px rgba(0, 0, 0, 0.3)",$nest:{"&:hover":{backgroundColor:"#3DE51B"},"&:focus":{backgroundColor:"#3DE51B",outline:"none",border:"2px solid #0096FF"},"&:active":{backgroundColor:"#3AD819"}},fontWeight:"bold"}),L=s("CodeRowContainer",{display:"flex",flexShrink:0,flexDirection:"row",alignItems:"center",paddingTop:10,paddingLeft:10,paddingRight:20,$nest:{"&:first-child":{paddingBottom:10}}}),T=s("CodeRowIndexLabel",{color:"rgba(0, 0, 0, 0.4)",fontSize:"42px",width:30,textAlign:"center",marginRight:10}),E=s("CodeRow",{display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 15px 10px 15px",borderRadius:8,boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)"}),S=s("ResponseContainer",{width:42,height:42,marginRight:10,display:"flex",flexDirection:"column",justifyContent:"center"});function B(e){return Object(f.jsx)("div",{className:F,children:g.map((function(n){return Object(f.jsx)(x,{color:n,onClick:function(){return e.dispatch({type:"putColor",color:n})}},n)}))})}var F=s("ColorPaletteContainer",{display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 15px 10px 15px",marginTop:10}),G=r(7),$=r(3);var M={editing:{putColor:function(e,n){var r,t=null!==(r=n.index)&&void 0!==r?r:e.currentPegIndex;if(null===t)return e;var o=W(e,{index:t,color:n.color}),c=function(e,n,r){var t=r;do{if(!e[t=(t+1)%n])return t}while(t!==r);return null}(o,e.codeLength,t);return Object($.a)(Object($.a)({},e),{},{code:o,currentPegIndex:c})},removeColor:function(e,n){var r,t=null!==(r=n.index)&&void 0!==r?r:e.currentPegIndex;if(null===t)return e;var o=W(e,{index:t,color:null});return Object($.a)(Object($.a)({},e),{},{code:o,currentPegIndex:t})},setPegIndex:function(e,n){return Object($.a)(Object($.a)({},e),{},{currentPegIndex:n.index})}}};function W(e){for(var n=Object(G.a)(e.code),r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];for(var c=0,i=t;c<i.length;c++){var a=i[c];a.index>=0&&a.index<e.codeLength&&(n[a.index]=a.color)}return n}var Y=r(11);function q(e){return Array.from(new Array(e)).map((function(e){return function(){var e=Math.floor(Math.random()*g.length);return g[e]}()}))}var J={unsolved:{submitGuess:function(e,n){var r=function(e){var n=e.guess,r=e.answer;if(n.length!==r.length)throw new Error("Expected guess and answer to be the same length");for(var t=new Map,o=[],c=0,i=0,a=0;a<n.length;a++)if(n[a]===r[a])c++;else{var d,s=null!==(d=t.get(r[a]))&&void 0!==d?d:0;t.set(r[a],s+1),o.push(n[a])}for(var l=0,u=o;l<u.length;l++){var b,g=u[l],f=null!==(b=t.get(g))&&void 0!==b?b:0;f>0&&(i++,t.set(g,f-1))}return{black:c,white:i}}({guess:n.code,answer:e.answer});return{name:Y.isEqual(n.code,e.answer)?"solved":"unsolved",answer:e.answer,codesAndResponses:[].concat(Object(G.a)(e.codesAndResponses),[{code:n.code,response:r}])}}},solved:{}};function K(e,n){return Object(t.useReducer)((function(n,r){var t=e[n.name][r.type];return t?t(n,r):n}),n)}function z(){var e=K(J,{name:"unsolved",answer:q({codeLength:4}.codeLength),codesAndResponses:[]}),n=Object(a.a)(e,2),r=n[0],t=n[1];return Object(f.jsx)(V,{gameState:r,dispatchToGame:t},r.codesAndResponses.length)}function V(e){var n,r=Object(t.useRef)(null),o=K(M,{name:"editing",codeLength:(n={codeLength:4}).codeLength,code:Array.from(new Array(n.codeLength)).map((function(e){return null})),currentPegIndex:0}),c=Object(a.a)(o,2),i=c[0],d=c[1];return Object(t.useEffect)((function(){r.current&&r.current.scrollIntoView()}),[i]),Object(f.jsxs)("div",{className:_,children:[Object(f.jsxs)("div",{className:H,children:[e.gameState.codesAndResponses.map((function(e,n){var r=e.code,t=e.response;return Object(f.jsx)(I,{index:n+1,code:r,response:t},n+1)})),"unsolved"===e.gameState.name&&Object(f.jsx)(P,{index:e.gameState.codesAndResponses.length+1,code:i.code,currentPegIndex:i.currentPegIndex,dispatchToCodeEditor:d,dispatchToGame:e.dispatchToGame}),Object(f.jsx)("div",{ref:r})]}),Object(f.jsx)(B,{dispatch:d})]})}var _=s("App",{backgroundColor:"rgb(141, 86, 47)",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}),H=s("CodeList",{flex:1,display:"flex",overflowY:"auto","-webkit-overflow-scrolling":"touch",flexDirection:"column-reverse",justifyContent:"flex-start"}),Q=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,21)).then((function(n){var r=n.getCLS,t=n.getFID,o=n.getFCP,c=n.getLCP,i=n.getTTFB;r(e),t(e),o(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(z,{})}),document.getElementById("root")),Q()}},[[20,1,2]]]);
//# sourceMappingURL=main.bc68f64e.chunk.js.map