(this["webpackJsonpmaster-mind"]=this["webpackJsonpmaster-mind"]||[]).push([[0],{16:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var r=t(1),o=t.n(r),c=t(11),i=t.n(c),a=(t(16),t(3)),d=t(6);function s(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return d.b.apply(void 0,t.concat([{$debugName:"".concat("mm","_").concat(e),$unique:!0}]))}var l={B:"rgb(0, 38, 173)",Y:"rgb(215, 208, 0)",P:"rgb(215, 0, 214)",W:"rgb(220, 219, 219)",G:"rgb(23, 170, 0)",R:"rgb(171, 0, 0)"},u={B:"rgb(142, 167, 237)",Y:"rgb(246, 240, 15)",P:"rgb(246, 135, 243)",W:"rgb(245, 245, 245)",G:"rgb(167, 232, 138)",R:"rgb(239, 138, 142)"},b={white:"rgb(235, 235, 235)",black:"rgb(35, 35, 35)"},g=Object.keys(l),x=t(0),f=Object(r.forwardRef)((function(e,n){var t=e.current?"current":void 0;return e.color?Object(x.jsx)("button",{ref:n,className:Object(d.a)(p,t),style:j(e.color),disabled:!e.onClick,onClick:e.onClick}):Object(x.jsx)("button",{ref:n,className:Object(d.a)(p,h,t),disabled:!e.onClick,onClick:e.onClick})})),p=s("CodePeg",{borderRadius:"50%",height:40,width:40,margin:8,background:"none",border:"none",outline:"none",filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.3))",$nest:{"&:focus":{border:"3px solid #0096FF"},"&.current":{border:"3px dashed black"}}}),h=s("EmptyCodePeg",{boxShadow:"inset 0px -2px 24px rgba(0, 0, 0, 0.25)"});function j(e){var n=l[e];return{background:"radial-gradient(circle at 25px 15px, ".concat(u[e],", ").concat(n,")")}}function m(e){return Object(x.jsx)("div",{className:O,children:e.code.map((function(e,n){return Object(x.jsx)(f,{color:e},n)}))})}function v(e){return Object(x.jsx)("div",{className:O,children:e.code.map((function(n,t){return Object(x.jsx)(f,{color:n,onClick:function(){return e.dispatch({type:n?"removeColor":"setPegIndex",index:t})},current:e.currentPegIndex===t},t)}))})}var O=s("Code",{display:"flex",flexDirection:"row"}),w=t(2),C=t.n(w);function k(e){var n=function(e){var n,t,r=null!==(n=null===e||void 0===e?void 0:e.black)&&void 0!==n?n:0,o=null!==(t=null===e||void 0===e?void 0:e.white)&&void 0!==t?t:0,c=4-r-o,i=C.a.times(r,(function(){return"black"})),a=C.a.times(o,(function(){return"white"})),d=C.a.times(c,(function(){return null}));return i.concat(a).concat(d)}(e.response);return Object(x.jsx)("div",{className:y,children:n.map((function(e,n){return Object(x.jsx)(R,{color:e},n)}))})}function R(e){var n=e.color;if(n){var t=b[n];return Object(x.jsx)("div",{className:P,style:{backgroundColor:t}})}return Object(x.jsx)("div",{className:I})}var y=s("ResponseDisplay",{marginTop:2,display:"grid",gridTemplateColumns:"50% 50%",gridTemplateRows:"50% 50%",width:"100%",height:"100%",alignItems:"center",justifyItems:"center"}),I=s("Dot",{borderRadius:"50%",width:5,height:5,backgroundColor:"black",opacity:.2}),P=s("ResponsePeg",{borderRadius:"50%",width:10,height:10,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5))"}),A=Object(r.forwardRef)((function(e,n){return Object(x.jsxs)("div",{ref:n,className:S,children:[Object(x.jsx)("label",{className:E,children:e.index}),Object(x.jsxs)("div",{className:B,children:[Object(x.jsx)("div",{className:F,children:e.responseArea}),e.codeArea]})]})}));function N(e){return Object(x.jsx)(A,{index:e.index,responseArea:Object(x.jsx)(k,{response:e.response}),codeArea:Object(x.jsx)(m,{code:e.code})})}var D=Object(r.forwardRef)((function(e,n){var t=Object(r.useRef)(null),o=e.code.every((function(e){return null!==e}));Object(r.useEffect)((function(){o&&t.current&&t.current.focus()}),[o]);var c=o?Object(x.jsx)(L,{ref:t,onClick:function(){return e.dispatchToGame({type:"submitGuess",code:e.code})}}):Object(x.jsx)(k,{}),i=Object(x.jsx)(v,{code:e.code,currentPegIndex:e.currentPegIndex,dispatch:e.dispatchToCodeEditor});return Object(x.jsx)(A,{ref:n,index:e.index,responseArea:c,codeArea:i})})),L=Object(r.forwardRef)((function(e,n){return Object(x.jsx)("button",{ref:n,className:T,onClick:e.onClick,children:"OK"})})),T=s("OKButton",{width:"100%",height:40,borderRadius:10,border:"none",backgroundColor:"#3AD819",boxShadow:"0 1px 7px rgba(0, 0, 0, 0.3)",$nest:{"&:hover":{backgroundColor:"#3DE51B"},"&:focus":{backgroundColor:"#3DE51B",outline:"none",border:"2px solid #0096FF"},"&:active":{backgroundColor:"#3AD819"}},fontWeight:"bold"}),S=s("CodeRowContainer",{display:"flex",flexShrink:0,flexDirection:"row",alignItems:"center",paddingTop:10,paddingLeft:10,paddingRight:20,$nest:{"&:first-child":{paddingBottom:10}}}),E=s("CodeRowIndexLabel",{color:"rgba(0, 0, 0, 0.4)",fontSize:"42px",width:30,textAlign:"center",marginRight:10}),B=s("CodeRow",{display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 15px 10px 15px",borderRadius:8,boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)"}),F=s("ResponseContainer",{width:42,height:42,marginRight:10,display:"flex",flexDirection:"column",justifyContent:"center"});function G(e){return Object(x.jsx)("div",{className:M,children:g.map((function(n){return Object(x.jsx)(f,{color:n,onClick:function(){return e.dispatch({type:"putColor",color:n})}},n)}))})}var M=s("ColorPaletteContainer",{display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 15px 10px 15px",marginTop:10}),$=t(8),q=t(4);var W={editing:{putColor:function(e,n){var t,r=null!==(t=n.index)&&void 0!==t?t:e.currentPegIndex;if(null===r)return e;var o=Y(e,{index:r,color:n.color}),c=function(e,n,t){var r=t;do{if(!e[r=(r+1)%n])return r}while(r!==t);return null}(o,e.codeLength,r);return Object(q.a)(Object(q.a)({},e),{},{code:o,currentPegIndex:c})},removeColor:function(e,n){var t,r=null!==(t=n.index)&&void 0!==t?t:e.currentPegIndex;if(null===r)return e;var o=Y(e,{index:r,color:null});return Object(q.a)(Object(q.a)({},e),{},{code:o,currentPegIndex:r})},setPegIndex:function(e,n){return Object(q.a)(Object(q.a)({},e),{},{currentPegIndex:n.index})}}};function Y(e){for(var n=Object($.a)(e.code),t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];for(var c=0,i=r;c<i.length;c++){var a=i[c];a.index>=0&&a.index<e.codeLength&&(n[a.index]=a.color)}return n}function J(e){return C.a.times(e,(function(){return function(){var e=Math.floor(Math.random()*g.length);return g[e]}()}))}var K={unsolved:{submitGuess:function(e,n){var t=function(e){var n=e.guess,t=e.answer;if(n.length!==t.length)throw new Error("Expected guess and answer to be the same length");for(var r=new Map,o=[],c=0,i=0,a=0;a<n.length;a++)if(n[a]===t[a])c++;else{var d,s=null!==(d=r.get(t[a]))&&void 0!==d?d:0;r.set(t[a],s+1),o.push(n[a])}for(var l=0,u=o;l<u.length;l++){var b,g=u[l],x=null!==(b=r.get(g))&&void 0!==b?b:0;x>0&&(i++,r.set(g,x-1))}return{black:c,white:i}}({guess:n.code,answer:e.answer});return{name:w.isEqual(n.code,e.answer)?"solved":"unsolved",answer:e.answer,codesAndResponses:[].concat(Object($.a)(e.codesAndResponses),[{code:n.code,response:t}])}}},solved:{}};function z(e,n){return Object(r.useReducer)((function(n,t){var r=e[n.name][t.type];return r?r(n,t):n}),n)}function V(){var e=z(K,{name:"unsolved",answer:J({codeLength:4}.codeLength),codesAndResponses:[]}),n=Object(a.a)(e,2),t=n[0],r=n[1];return Object(x.jsx)(_,{gameState:t,dispatchToGame:r},t.codesAndResponses.length)}function _(e){var n,t=Object(r.useRef)(null),o=z(W,{name:"editing",codeLength:(n={codeLength:4}).codeLength,code:C.a.times(n.codeLength,(function(){return null})),currentPegIndex:0}),c=Object(a.a)(o,2),i=c[0],d=c[1];return Object(r.useEffect)((function(){t.current&&t.current.scrollIntoView()}),[i]),Object(x.jsxs)("div",{className:H,children:[Object(x.jsxs)("div",{className:Q,children:[e.gameState.codesAndResponses.map((function(e,n){var t=e.code,r=e.response;return Object(x.jsx)(N,{index:n+1,code:t,response:r},n+1)})),"unsolved"===e.gameState.name&&Object(x.jsx)(D,{index:e.gameState.codesAndResponses.length+1,code:i.code,currentPegIndex:i.currentPegIndex,dispatchToCodeEditor:d,dispatchToGame:e.dispatchToGame}),Object(x.jsx)("div",{ref:t})]}),Object(x.jsx)(G,{dispatch:d})]})}var H=s("App",{backgroundColor:"rgb(141, 86, 47)",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}),Q=s("CodeList",{flex:1,display:"flex",overflowY:"auto","-webkit-overflow-scrolling":"touch",flexDirection:"column-reverse",justifyContent:"flex-start"}),U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),c(e),i(e)}))};!function(){var e=window.screen.width,n=Math.min(e/376,1);document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=".concat(n,", maximum-scale=").concat(n))}(),i.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(V,{})}),document.getElementById("root")),U()}},[[20,1,2]]]);
//# sourceMappingURL=main.88f24d3d.chunk.js.map